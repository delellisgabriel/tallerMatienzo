<div class="row center">
  <app-side-bar-fav></app-side-bar-fav>
</div>

<div style="min-height: 65vh;" class="container">
  <div class="section">
    <div *ngIf="cargando">
      <h2 class="flow-text center-align">Solicitar Cita</h2>
      <br /><br /><br /><br /><br />
      <div class="row">
        <div class="col s12 m12 l12 center-align">
          <div class="preloader-wrapper big active">
            <div class="spinner-layer spinner-blue-only">
              <div class="circle-clipper left">
                <div class="circle"></div>
              </div><div class="gap-patch">
                <div class="circle"></div>
              </div><div class="circle-clipper right">
                <div class="circle"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <br /><br /><br /><br /><br />
    </div>

    <div *ngIf="!cargando">
      <div class="row">
        <div class="col s12 m12 l12">
          <h2 class="flow-text center-align">Solicitar Cita</h2>
          <br>
        </div>
        <div *ngIf="cars == false">
          <div class="col s12 m12 l12">
            <h2 class="flow-text center-align">Solicitar Cita</h2>
            <br>
          </div>
          <h3 class="waves-light center">No tiene vehículos registrados. Debe registrar un vehículo primero.</h3>
        </div>

        <form *ngIf="cars == true" materialize (submit)="solicitarCita()" #appointmentForm="ngForm">
          <div class="form-group col s12 m12 l12">
            <div class="row">
              <div class="input-field col s12 m6 l6">

                <select [(ngModel)]="solicitud.idAux" materialize="material_select" name="idVehiculo" required>
                  <option value="" disabled>Seleccione un vehículo</option>
                  <option *ngFor="let carro of userVehiculos" [value]="carro.idVehiculo">
                    {{ carro.Marca }} {{ carro.Modelo }}
                  </option>
                </select>
                <label>MIS VEHÍCULOS</label>
              </div>

              <div class="input-fueld col s12 m6 l6">
                <label for="motivo">MOTIVO</label>
                <input id="motivo" class="validate" type="text" name="motivo" [(ngModel)]="solicitud.Motivo" required />
              </div>
            </div>

            <div class="row">

              <div class="col s12 m12 l12">
                <blockquote>
                  <p class="flow-text text-justify">Por favor elija un rango de los días que le es conveniente traer su vehículo a revisión.</p>
                </blockquote>
              </div>

              <div class="input-field col s12 m6 l6">
                <input id="datepicker" materialize="pickadate" name="fecha_inicial" required
                       [(ngModel)]="solicitud.FechaTentativaInicial" [materializeParams]="[{selectYears: 180, monthsFull: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'], monthsShort: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dec'], weekdaysFull: ['Domingo', 'Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado'], weekdaysShort: ['Dom', 'Lun', 'Mar', 'Mié', 'Jue', 'Vie', 'Sáb'], weekdaysLetter: ['D', 'L', 'M', 'M', 'J', 'V', 'S'], today: 'Hoy', clear: 'Limpiar', format: 'yyyy-mm-dd'}]" />
                <label for="fecha_inicial" class="active">A PARTIR DE</label>
              </div>
              <div class="input-field col s12 m6 l6">
                <input id="datepicker" materialize="pickadate" name="fecha_final" required
                       [(ngModel)]="solicitud.FechaTentativaFinal" [materializeParams]="[{selectYears: 180, monthsFull: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'], monthsShort: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dec'], weekdaysFull: ['Domingo', 'Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado'], weekdaysShort: ['Dom', 'Lun', 'Mar', 'Mié', 'Jue', 'Vie', 'Sáb'], weekdaysLetter: ['D', 'L', 'M', 'M', 'J', 'V', 'S'], today: 'Hoy', clear: 'Limpiar', format: 'yyyy-mm-dd'}]" />
                <label for="fecha_final" class="active">HASTA</label>
              </div>
            </div>

          </div>


          <div class="row">
            <div class="col s12 m12 l12 center-align ">
              <button class="btn btn-large waves-effect waves-light blue darken-1" type="submit" [disabled]="!appointmentForm.form.valid">
                Solicitar
              </button>
            </div>
          </div>

        </form>



      </div>

    </div>
  </div>
</div>
